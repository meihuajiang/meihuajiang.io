(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-83cf1fe4"],{"11c7":function(t,e,a){},1580:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"category"},[a("top-bar",{attrs:{title:"商品分类"}}),a("div",{staticClass:"content"},[a("section",{staticClass:"left"},[a("ul",[t._l(t.categoryList,(function(e,s){return a("li",{key:e.mallCategoryId,class:{active:t.sidebarIndex===s},on:{click:function(a){return t.switchSideNav(e,s)}}},[t._v(" "+t._s(e.mallCategoryName)+" ")])})),a("article",{ref:"sideTagRef",staticClass:"sidebar-tag"})],2)]),a("section",{staticClass:"right"},[a("van-tabs",{attrs:{color:"#F79709"},on:{click:t.onCategorySubClick},model:{value:t.curTabIndex,callback:function(e){t.curTabIndex=e},expression:"curTabIndex"}},t._l(t.categorySubList,(function(t,e){return a("van-tab",{key:e,attrs:{title:t.mallSubName}})})),1),a("div",{staticClass:"scroll-wrapper"},[!t.isEmptyGoodsList&&t.goodsList.length?a("b-scroll",{staticClass:"content-scroll",attrs:{data:t.goodsList}},[a("div",{staticClass:"container"},[a("goods-list",{attrs:{goodsList:t.goodsList}})],1)]):t._e(),a("article",{directives:[{name:"show",rawName:"v-show",value:t.isEmptyGoodsList,expression:"isEmptyGoodsList"}],staticClass:"no-data"},[t._v(" 暂无数据~~ ")]),a("loading",{attrs:{loadingStatus:t.loadingStatus}})],1)],1)])],1)},o=[],n=(a("96cf"),a("1da1")),r=a("b084"),i=a("e488"),l=a("c08a"),c=a("0d79"),u=a("365c"),g={name:"Category",mixins:[c["a"]],components:{TopBar:r["a"],BScroll:i["a"],GoodsList:l["a"]},data:function(){return{sidebarIndex:0,categorySubList:[],curTabIndex:0,curTabIndexCopy:0,goodsList:[],isEmptyGoodsList:!1,categoryList:[{mallCategoryId:"1",mallCategoryName:"小说",bxMallSubDto:[{mallSubId:"2c9f6c946016ea9b016016f79c8e0000",mallCategoryId:"1",mallSubName:"悬疑推理",comments:null}],comments:null,image:"http://images.baixingliangfan.cn/firstCategoryPicture/20180408/20180408111959_2837.png"},{mallCategoryId:"2",mallCategoryName:"文学",bxMallSubDto:[{mallSubId:"2c9f6c946016ea9b016016f79c8e0000",mallCategoryId:"1",mallSubName:"名家作品",comments:null}],comments:null,image:"http://images.baixingliangfan.cn/firstCategoryPicture/20180408/20180408111959_2837.png"},{mallCategoryId:"3",mallCategoryName:"动漫",bxMallSubDto:[{mallSubId:"2c9f6c946016ea9b016016f79c8e0000",mallCategoryId:"1",mallSubName:"热血漫画",comments:null}],comments:null,image:"http://images.baixingliangfan.cn/firstCategoryPicture/20180408/20180408111959_2837.png"},{mallCategoryId:"4",mallCategoryName:"管理社科",bxMallSubDto:[{mallSubId:"2c9f6c946016ea9b016016f79c8e0000",mallCategoryId:"1",mallSubName:"时间管理",comments:null}],comments:null,image:"http://images.baixingliangfan.cn/firstCategoryPicture/20180408/20180408111959_2837.png"},{mallCategoryId:"5",mallCategoryName:"成功励志",bxMallSubDto:[{mallSubId:"2c9f6c946016ea9b016016f79c8e0000",mallCategoryId:"1",mallSubName:"人生哲学",comments:null}],comments:null,image:"http://images.baixingliangfan.cn/firstCategoryPicture/20180408/20180408111959_2837.png"}]}},created:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s,o,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.$route.params,s=a.categorySubId,o=a.index,n=a.item,!(s&&o&&n)){e.next=17;break}return e.prev=2,e.next=5,u["a"].getHomeData();case 5:r=e.sent,200===r.code&&t.setCategoryList(r.result.category),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](2),console.log(e.t0);case 12:return t.sidebarIndex=o,t.$nextTick((function(){var e=100/t.categoryList.length*o;t.$refs.sideTagRef.style.top="".concat(e,"%")})),t.categorySubList=n.bxMallSubDto,t._getGoodsList(s),e.abrupt("return");case 17:t._getCategoryList();case 18:case"end":return e.stop()}}),e,null,[[2,9]])})))()},methods:{_getCategoryList:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.categoryList.length){e.next=13;break}return e.prev=1,e.next=4,u["a"].getHomeData();case 4:a=e.sent,200===a.code&&(t.setCategoryList(a.result.category),t.categorySubList=a.result.category[0].bxMallSubDto,t._getGoodsList(t.categorySubList[0].mallSubId)),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),console.log(e.t0);case 11:e.next=15;break;case 13:t.categorySubList=t.categoryList[0].bxMallSubDto,t._getGoodsList(t.categorySubList[0].mallSubId);case 15:case"end":return e.stop()}}),e,null,[[1,8]])})))()},_getGoodsList:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.loadingStatus=!0,a.prev=1,a.next=4,u["a"].getGoodsList(t);case 4:s=a.sent,200===s.code&&(e.goodsList=s.result,e.loadingStatus=!1,e.isEmptyGoodsList=!e.goodsList.length),a.next=12;break;case 8:a.prev=8,a.t0=a["catch"](1),e.loadingStatus=!1,console.log(a.t0);case 12:case"end":return a.stop()}}),a,null,[[1,8]])})))()},switchSideNav:function(t,e){if(this.sidebarIndex!==e){this.sidebarIndex=e;var a=100/this.categoryList.length*e;this.$refs.sideTagRef.style.top="".concat(a,"%"),this.categorySubList=t.bxMallSubDto,this.curTabIndex=0,this.curTabIndexCopy=0,this.goodsList=[],this._getGoodsList(t.bxMallSubDto[0].mallSubId)}},onCategorySubClick:function(t){this.curTabIndexCopy!==t&&(this.curTabIndexCopy=t,this.goodsList=[],this._getGoodsList(this.categorySubList[t].mallSubId))}}},d=g,m=(a("3678"),a("2877")),b=Object(m["a"])(d,s,o,!1,null,"0f4aacae",null);e["default"]=b.exports},3678:function(t,e,a){"use strict";var s=a("7327"),o=a.n(s);o.a},7327:function(t,e,a){},b084:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"top-bar",class:[t.hasBack||t.hasClose?"between":"center"]},[t.hasBack?a("van-icon",{staticClass:"back-icon",attrs:{name:"arrow-left"},on:{click:t.goBack}}):t._e(),t.hasClose?a("van-icon",{staticClass:"back-icon",attrs:{name:"arrow-left"},on:{click:function(e){return t.$emit("close",!1)}}}):t._e(),a("span",[t._v(t._s(t.title))]),a("div")],1)},o=[],n={name:"TopBar",props:{title:{type:String,default:""},hasBack:{type:Boolean,default:!1},hasClose:{type:Boolean,default:!1},outBrowse:{type:Boolean,default:!1},outOrder:{type:Boolean,default:!1},outAddressEdit:{type:Boolean,default:!1}},methods:{goBack:function(){this.outOrder?this.$emit("outOrderEvt"):this.outAddressEdit?this.$emit("outAddressEditEvt"):this.outBrowse?this.$router.push({name:"Me"}):this.$router.back()}}},r=n,i=(a("ba76"),a("2877")),l=Object(i["a"])(r,s,o,!1,null,"78164264",null);e["a"]=l.exports},ba76:function(t,e,a){"use strict";var s=a("11c7"),o=a.n(s);o.a}}]);
//# sourceMappingURL=chunk-83cf1fe4.16437809.js.map