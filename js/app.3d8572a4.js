(function(e){function t(t){for(var a,r,o=t[0],u=t[1],s=t[2],d=0,l=[];d<o.length;d++)r=o[d],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&l.push(i[r][0]),i[r]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(e[a]=u[a]);f&&f(t);while(l.length)l.shift()();return c.push.apply(c,s||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],a=!0,r=1;r<n.length;r++){var o=n[r];0!==i[o]&&(a=!1)}a&&(c.splice(t--,1),e=u(u.s=n[0]))}return e}var a={},r={app:0},i={app:0},c=[];function o(e){return u.p+"js/"+({}[e]||e)+"."+{"chunk-1b752907":"35a047c7","chunk-57f78a74":"fd3f0484","chunk-76707e8b":"c2a3ad4a","chunk-d3769faa":"0f19c300","chunk-33f5245e":"e472bbe8","chunk-83cf1fe4":"16437809","chunk-2d0b9443":"df6b1d4f","chunk-4c47e37a":"32dd2864","chunk-5578850b":"9da7f9b4","chunk-67e717ec":"e8af0329","chunk-7cc9b95a":"d9f0fa8f"}[e]+".js"}function u(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.e=function(e){var t=[],n={"chunk-1b752907":1,"chunk-57f78a74":1,"chunk-76707e8b":1,"chunk-d3769faa":1,"chunk-33f5245e":1,"chunk-83cf1fe4":1,"chunk-4c47e37a":1,"chunk-5578850b":1,"chunk-67e717ec":1,"chunk-7cc9b95a":1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=new Promise((function(t,n){for(var a="css/"+({}[e]||e)+"."+{"chunk-1b752907":"ef3d990b","chunk-57f78a74":"3696994c","chunk-76707e8b":"6141683a","chunk-d3769faa":"a71c5826","chunk-33f5245e":"1e6486df","chunk-83cf1fe4":"d70bc005","chunk-2d0b9443":"31d6cfe0","chunk-4c47e37a":"46a1bb1c","chunk-5578850b":"9734b2d8","chunk-67e717ec":"e1ad38c5","chunk-7cc9b95a":"7ac3b39b"}[e]+".css",i=u.p+a,c=document.getElementsByTagName("link"),o=0;o<c.length;o++){var s=c[o],d=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(d===a||d===i))return t()}var l=document.getElementsByTagName("style");for(o=0;o<l.length;o++){s=l[o],d=s.getAttribute("data-href");if(d===a||d===i)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var a=t&&t.target&&t.target.src||i,c=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");c.code="CSS_CHUNK_LOAD_FAILED",c.request=a,delete r[e],f.parentNode.removeChild(f),n(c)},f.href=i;var h=document.getElementsByTagName("head")[0];h.appendChild(f)})).then((function(){r[e]=0})));var a=i[e];if(0!==a)if(a)t.push(a[2]);else{var c=new Promise((function(t,n){a=i[e]=[t,n]}));t.push(a[2]=c);var s,d=document.createElement("script");d.charset="utf-8",d.timeout=120,u.nc&&d.setAttribute("nonce",u.nc),d.src=o(e);var l=new Error;s=function(t){d.onerror=d.onload=null,clearTimeout(f);var n=i[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+a+": "+r+")",l.name="ChunkLoadError",l.type=a,l.request=r,n[1](l)}i[e]=void 0}};var f=setTimeout((function(){s({type:"timeout",target:d})}),12e4);d.onerror=d.onload=s,document.head.appendChild(d)}return Promise.all(t)},u.m=e,u.c=a,u.d=function(e,t,n){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)u.d(n,a,function(t){return e[t]}.bind(null,a));return n},u.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="",u.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],d=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var f=d;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"221b":function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return h})),n.d(t,"d",(function(){return m})),n.d(t,"a",(function(){return v})),n.d(t,"e",(function(){return p}));n("c740"),n("4160"),n("a434"),n("159b");var a=n("b893"),r=window.localStorage,i="category_list",c="location_city",o="search_history",u=20,s="browse_history",d=20,l="user_token",f={setCache:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return r.setItem(i,JSON.stringify(e)),e},getCache:function(){return r.getItem(i)?JSON.parse(r.getItem(i)):[]}},h={setCache:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=Object(a["a"])(e);return r.setItem(c,JSON.stringify(t)),t},getCache:function(){return Object(a["b"])(c)},deleteCache:function(){return r.removeItem(c),null}},m={setCache:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.getCache();return t.length&&t.forEach((function(n,a){n===e&&t.splice(a,1)})),t.unshift(e),t.length>u&&t.pop(),r.setItem(o,JSON.stringify(t)),t},getCache:function(){return r.getItem(o)?JSON.parse(r.getItem(o)):[]},deleteCache:function(){return r.removeItem(o),[]}},v={setCache:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.getCache();return t.length&&t.forEach((function(n,a){n.id===e.id&&t.splice(a,1)})),t.unshift(e),t.length>d&&t.pop(),r.setItem(s,JSON.stringify(t)),t},getCache:function(){return r.getItem(s)?JSON.parse(r.getItem(s)):[]},deleteOneCache:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.getCache(),n=t.findIndex((function(t){return t.id===e}));return t.splice(n,1),r.setItem(s,JSON.stringify(t)),t}},p={setCache:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return r.setItem(l,JSON.stringify(e)),e},getCache:function(){return r.getItem(l)?JSON.parse(r.getItem(l)):""},deleteCache:function(){return r.removeItem(l),""}}},4360:function(e,t,n){"use strict";var a,r=n("2b0e"),i=n("2f62"),c=n("221b"),o={categoryList:c["b"].getCache(),locationCity:c["c"].getCache(),searchHistoryList:c["d"].getCache(),browseHistoryList:c["a"].getCache(),userToken:c["e"].getCache()},u=o,s=function(e){return e.locationCity},d=function(e){return e.searchHistoryList},l=function(e){return e.browseHistoryList},f=function(e){return e.userToken},h={searchHistoryList:d,browseHistoryList:l,locationCity:s,userToken:f},m=n("ade3"),v="LOCATION_CITY",p="SEARCH_HISTORY_LIST",b="BROWSE_HISTORY_LIST",g="USER_TOKEN",k=(a={},Object(m["a"])(a,v,(function(e,t){e.locationCity=t})),Object(m["a"])(a,p,(function(e,t){e.searchHistoryList=t})),Object(m["a"])(a,b,(function(e,t){e.browseHistoryList=t})),Object(m["a"])(a,g,(function(e,t){e.userToken=t})),a),y=k,C=function(e,t){e.commit},N=function(e,t){var n=e.commit;n(v,c["c"].setCache(t))},w=function(e){var t=e.commit;t(v,c["c"].deleteCache())},O=function(e,t){var n=e.commit;n(p,c["d"].setCache(t))},x=function(e){var t=e.commit;t(p,c["d"].deleteCache())},S=function(e,t){var n=e.commit;n(b,c["a"].setCache(t))},I=function(e,t){var n=e.commit;n(b,c["a"].deleteOneCache(t))},T=function(e,t){var n=e.commit;n(g,c["e"].setCache(t))},_=function(e){var t=e.commit;t(g,c["e"].deleteCache())},L={setCategoryList:C,setLocationCity:N,deleteLocationCity:w,setSearchHistory:O,deleteSearchHistory:x,setBrowseHistory:S,deleteOneBrowseHistory:I,setUserToken:T,deleteUserToken:_},A=n("b054"),E=n.n(A);r["a"].use(i["a"]);var H=!1;t["a"]=new i["a"].Store({state:u,getters:h,mutations:y,actions:L,strict:H,plugins:H?[E()()]:[]})},"4ee2":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("4de4"),n("a9e3"),n("b680"),n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("transition",{attrs:{name:e.mainName}},[e.$route.meta.keepAlive?n("keep-alive",[e.$route.meta.keepAlive?n("router-view",{attrs:{id:"view"}}):e._e()],1):e._e(),!e.$route.meta.keepAlive&&e.isRouterAlive?n("router-view",{attrs:{id:"view"}}):e._e()],1),n("transition",{attrs:{name:e.navName}},[e.isShowNav?n("footer-nav",{attrs:{activeNavIndex:e.activeNavIndex}}):e._e()],1)],1)},i=[],c=(n("caad"),n("b0c0"),n("2532"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("footer",{attrs:{id:"tabNav"}},e._l(e.NavList,(function(t,a){return n("section",{key:a,class:{active:e.activeNavIndex===a},on:{click:function(n){return e.clickTab(a,t.name)}}},["Cart"===t.name?n("van-icon",{attrs:{name:t.icon,badge:e.goodsNumber}}):e._e(),"Cart"!==t.name?n("van-icon",{attrs:{name:t.icon}}):e._e(),n("div",[e._v(e._s(t.title))])],1)})),0)}),o=[],u={name:"FooterNav",props:{activeNavIndex:{type:Number,default:0}},data:function(){return{NavList:[{title:"首页",name:"Home",icon:"wap-home"},{title:"分类",name:"Category",icon:"wap-nav"},{title:"排行榜",name:"Rank",icon:"medal"},{title:"购物车",name:"Cart",icon:"shopping-cart"},{title:"我的",name:"User",icon:"manager"}],goodsNumber:0}},methods:{clickTab:function(e,t){this.activeNavIndex!==e&&this.$router.push({name:t})}}},s=u,d=(n("7683"),n("2877")),l=Object(d["a"])(s,c,o,!1,null,"509f216a",null),f=l.exports,h={name:"App",provide:function(){return{reload:this.reload}},components:{FooterNav:f},data:function(){return{mainName:"",navName:"",isShowNav:!1,activeNavIndex:0,isRouterAlive:!0,navTabs:["Home","Category","Rank","Cart","User"]}},watch:{$route:function(e,t){var n=this.$data.navTabs,a=e.name,r=t.name;switch(n.includes(a)&&!r&&(this.isShowNav=!0),a){case"Home":this.activeNavIndex=0;break;case"Category":this.activeNavIndex=1;break;case"Rank":this.activeNavIndex=2;break;case"Cart":this.activeNavIndex=3;break;case"User":this.activeNavIndex=4;break}n.includes(a)&&n.includes(r)?this.mainName="fade":e.meta.index>t.meta.index?(this.mainName="slide-left",this.navName="nav-slide",(n.includes(r)||!n.includes(r))&&(this.isShowNav=!1)):e.meta.index<t.meta.index&&(this.mainName="slide-right",this.navName="nav-slide",n.includes(a)&&(this.isShowNav=!0))}},methods:{reload:function(){var e=this;this.isRouterAlive=!1,this.$nextTick((function(){e.isRouterAlive=!0}))}}},m=h,v=(n("5c0b"),Object(d["a"])(m,r,i,!1,null,null,null)),p=v.exports,b=n("a18c"),g=n("4360"),k=n("b970"),y=n("343b"),C=(n("157a"),n("fe3c")),N=n.n(C);n("4ee2"),n("a07f"),n("a2f0");N.a.attach(document.body),n("f074")(document,window),a["a"].use(y["a"]),a["a"].use(k["a"]),a["a"].config.productionTip=!1,a["a"].filter("toFixed",(function(e){return Number(e).toFixed(2)})),new a["a"]({router:b["a"],store:g["a"],render:function(e){return e(p)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";var a=n("9c0c"),r=n.n(a);r.a},7683:function(e,t,n){"use strict";var a=n("dba7"),r=n.n(a);r.a},"9c0c":function(e,t,n){},a07f:function(e,t,n){},a18c:function(e,t,n){"use strict";n("b0c0"),n("d3b7");var a=n("2b0e"),r=n("8c4f"),i=function(){return Promise.all([n.e("chunk-1b752907"),n.e("chunk-d3769faa"),n.e("chunk-33f5245e")]).then(n.bind(null,"2a0a"))},c=function(){return n.e("chunk-2d0b9443").then(n.bind(null,"31e4"))},o=function(){return Promise.all([n.e("chunk-1b752907"),n.e("chunk-57f78a74")]).then(n.bind(null,"d994"))},u=function(){return n.e("chunk-67e717ec").then(n.bind(null,"56fe"))},s=function(){return Promise.all([n.e("chunk-1b752907"),n.e("chunk-d3769faa"),n.e("chunk-83cf1fe4")]).then(n.bind(null,"1580"))},d=function(){return n.e("chunk-5578850b").then(n.bind(null,"a144"))},l=function(){return n.e("chunk-7cc9b95a").then(n.bind(null,"8637"))},f=function(){return Promise.all([n.e("chunk-1b752907"),n.e("chunk-76707e8b")]).then(n.bind(null,"637a"))},h=function(){return n.e("chunk-4c47e37a").then(n.bind(null,"6b87"))};a["a"].use(r["a"]);var m=new r["a"]({mode:"hash",routes:[{path:"/",redirect:{name:"Home"}},{path:"/home",name:"Home",component:i,meta:{keepAlive:!0,index:1}},{path:"/city",name:"City",component:o,meta:{keepAlive:!0,index:2}},{path:"/login",name:"Login",component:c,meta:{index:3}},{path:"/cart",name:"Cart",component:u,meta:{keepAlive:!0,index:4}},{path:"/category",name:"Category",component:s,meta:{keepAlive:!0,index:5}},{path:"/user",name:"User",component:d,meta:{keepAlive:!0,index:6}},{path:"/rank",name:"Rank",component:l,meta:{keepAlive:!0,index:7}},{path:"goodsDetails",name:"GoodsDetails",component:f,meta:{keepAlive:!0,index:8}},{path:"order",name:"Order",component:h,mate:{keepAlive:!0,index:9}},{path:"*",redirect:{name:"Home"}}]}),v={Home:"网上书城",City:"城市选择",Login:"登录 / 注册",Cart:"购物车",Category:"分类",User:"我的",Rank:"排行榜",GoodsDetails:"商品详情",Order:"下单"};m.beforeEach((function(e,t,n){document.title=v[e.name],n()})),t["a"]=m},a2f0:function(e,t,n){},b893:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i}));n("a630"),n("fb6a"),n("4d63"),n("ac1f"),n("25f0"),n("3ca3"),n("5319");function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:864e5;return{expires:t,data:e,createTime:(new Date).getTime()}}function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:864e5,n=window.localStorage.getItem(e);if(!n)return null;var a=JSON.parse(n);return(new Date).getTime()-a.createTime>t?null:a}function i(e,t){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=null,i=0;return function(){for(var c=arguments.length,o=new Array(c),u=0;u<c;u++)o[u]=arguments[u];var s=+new Date;i||(i=s),a&&s-i>a?(e.apply(n,o),i=s,r&&clearTimeout(r)):(r&&clearTimeout(r),r=setTimeout((function(){e.apply(n,o),console.log("else"),i=0}),t))}}},dba7:function(e,t,n){},f074:function(e,t){e.exports=function(e,t){var n=t.document.documentElement,a="orientationchange"in window?"orientationchange":"resize",r=function(){var a=t.innerWidth||e.documentElement.clientWidth||e.body.clientWidth;if(a){var r,i=a;r=16*i/375,n.style.fontSize=r+"px",n.style.maxWidth="768px",n.style.margin="0 auto"}};e.addEventListener&&(t.addEventListener(a,r,!1),e.addEventListener("DOMContentLoaded",r,!1),r())}}});
//# sourceMappingURL=app.3d8572a4.js.map